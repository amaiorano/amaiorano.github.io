---
layout: post
title: "Lava RGB"
tags: [Electronics, NES]
comments: true
toc: true
draft: true
---

Back in 2021, I installed an [NESRGB](https://etim.net.au/nesrgb/) on a front loader, which has been working great. For years now, NESRGB was pretty much the only mod available to get RGB out of the NES; but recently, a new mod known as Lava RGB came on the scene from a company in China. I bought one, and in this post I go over how I installed it on another front loader.

I bought the Lava RGB mod off AliExpress from [Lava FC Store](https://www.aliexpress.com/store/1104098883), specifically from [this listing](https://www.aliexpress.com/item/1005007757543340.html) (although I suspect these links will not survive very long). The "color" I bought is the one named "NES senior VER 2.0", which includes both the mod board itself, along with a replacement power A/V module. Version 2.0 adds a bunch of new features on top of the previous version 1.2, such as 24-bit color output, 8 integrated palettes, the ability to reset the console and change palettes using controller 1, an OSD that displays the palette name when switching them, and a micro usb port that allows for firmware upgrades in the future.

Compared to the NESRGB, Lava RGB 2.0 is definitely a worthy contender. The palette switching OSD, and ability to easily update firmware, are improvements, and I wonder if future firmware updates might add more OSD-based options. However, one thing Lava RGB does not do is process and output audio like the NESRGB. Although not a huge deal, it does mean audio needs to be tapped from the main audio output circuit. This is probably why the latest version now offers a power A/V replacement PCB which routes audio output to its Saturn-style DIN connector.

Although the power module includes a Saturn-style DIN connector, I don't own a compatible cable, and prefer to use VGA cables. So for my install, I decided to add a SNES multiout port.


## Parts

* [Lava RGB 2.0 mod board and power module](https://www.aliexpress.com/item/1005007757543340.html) - $81.37 CAD
* Two 20 rounded pin headers - $16 CAD for ten on Amazon
* SNES multiout parts (more on that later)
* 47K resistor for expansion audio

The Lava RGB kit took about a week to arrive, and was packaged decently well:

![](/assets/images/lava-rgb/IMG_0195.jpg)


## The Build

### Prepare NES main board

#### Remove PPU

I picked a front loader with an NES-CPU-10 main board that was in excellent shape. I took it apart, and extracted the main board from the shell:

![](/assets/images/lava-rgb/IMG_0192.jpg)

First order of business was to desolder the PPU:

![](/assets/images/lava-rgb/IMG_0204.jpg)

I started by adding fresh solder, using flux to make it flow into the existing solder:

![](/assets/images/lava-rgb/IMG_0206.jpg)

![](/assets/images/lava-rgb/IMG_0207.jpg)

I then used my trusty desoldering pump to remove all the solder from the pins:

![](/assets/images/lava-rgb/IMG_0205.jpg)

![](/assets/images/lava-rgb/IMG_0208.jpg)

![](/assets/images/lava-rgb/IMG_0211.jpg)

Using a trick I learned from [Voultar](https://www.youtube.com/voultar), I used my finger nails to move each pin back and forth until they moved freely. For the usual more stubborn pins on the thicker ground plane, I added more solder and desoldered again until I was able to move the pins. With that, I extracted the PPU:

![](/assets/images/lava-rgb/IMG_0212.jpg)

#### Remove power module

Next I needed to remove the original power module to replace it with the new one:

![](/assets/images/lava-rgb/IMG_0218.jpg)

This can be pretty challenging, but with the right tools and technique, it's not too bad. I started by adding flux to the four large pins that anchor the power module to the main board and use my desoldering gun to remove most of the solder:

![](/assets/images/lava-rgb/IMG_0220.jpg)

![](/assets/images/lava-rgb/IMG_0222.jpg)

Then I use wicking braid to remove the solder lodged around the pins. I added a little more solder and flux to the pins until I was able to wick away most of the remaining solder:

![](/assets/images/lava-rgb/IMG_0223.jpg)

![](/assets/images/lava-rgb/IMG_0224.jpg)

At this point, the gaps around the pins are pretty clear:

![](/assets/images/lava-rgb/IMG_0228.jpg)

The next trick is to desolder the 5 pins visible above - but not from this side, but rather from inside the power module. This is actually necessary for properly installing the new power module that comes with the Lava RGB kit. I pried off the metal plate:

![](/assets/images/lava-rgb/IMG_0229.jpg)

![](/assets/images/lava-rgb/IMG_0230.jpg)

I switched tips on my desoldering gun to one with a larger pitch, and desoldered the 5 pins:

![](/assets/images/lava-rgb/IMG_0232.jpg)

![](/assets/images/lava-rgb/IMG_0234.jpg)

With that done, I grabbed hold of the power module with one hand, while holding the main board with the other, and rocked the power module back and forth until it came free:

![](/assets/images/lava-rgb/IMG_0237.jpg)

![](/assets/images/lava-rgb/IMG_0238.jpg)

We're left with the 5 pins still attached to the main board, ready to be soldered to the new power module later:

![](/assets/images/lava-rgb/IMG_0240.jpg)

#### Push main board capacitors flat

As with the NESRGB, the caps on the main board need to be pushed down flat for the Lava RGB PCB to fit:

![](/assets/images/lava-rgb/IMG_0242.jpg)

![](/assets/images/lava-rgb/IMG_0243.jpg)

![](/assets/images/lava-rgb/IMG_0244.jpg)

Normally this is simply a matter of pushing the caps down while heating the vias with a soldering iron. However, as I have a bunch of NES cap kits that I ordered from [Console5](https://console5.com/store/nintendo-nes-frontloader-cap-kit-nes-001.html), I decided to replace them:

![](/assets/images/lava-rgb/IMG_0245.jpg)

I desoldered the three caps:

![](/assets/images/lava-rgb/IMG_0246.jpg)

And replaced them with the new ones, making sure to match the capacitance values, and ensuring the voltage rating is equal or above the original one. When placing the caps, I laid them flat before soldering them in:

![](/assets/images/lava-rgb/IMG_0248.jpg)

### Solder wires

At this point, I decided to solder the ends of the Lava RGB wire connector to the power module and to the main board:

![](/assets/images/lava-rgb/IMG_0249.jpg)

What's nice is that the order of the pads on the power module and on the mod board match, so it's easy to solder the first eight wires:

![](/assets/images/lava-rgb/IMG_0251.jpg)

![](/assets/images/lava-rgb/IMG_0252.jpg)

![](/assets/images/lava-rgb/IMG_0253.jpg)

I soldered the eight wires to the pads:

![](/assets/images/lava-rgb/IMG_0254.jpg)

The remaining four wires are used to allow controller 1 to perform an in-game reset (IGR) as well as palette swapping using key combos. IGR is performed by holding Select for about 2 seconds, then pressing A; while for palette swapping, you hold Select for 2 seconds and press Up on the dpad. To make this work, the RST wire needs to be wired to the reset line on the main board (where the actual Reset button is wired to), while the CLK, DATA, and LATCH pins need to be wired to their respective pins on the player 1 controller input lines.

I put this handy image together to identify the pins to solder to:

![](/assets/images/lava-rgb/NES_mainboard_IGR.jpg)

Noting the colors of each pin, I first soldered the RST line:

![](/assets/images/lava-rgb/IMG_0256.jpg)

![](/assets/images/lava-rgb/IMG_0257.jpg)

Then I soldered CLK, DATA, and LATCH. Note that DATA and LATCH are not in the same order as on the Lava RGB PCB:

![](/assets/images/lava-rgb/IMG_0258.jpg)

### Power module

As already mentioned, for my install I planned to add a SNES-style multiout. Rather than grab these connections from the Lava RGB mod board itself, I decided to get them from the power module since it's closer to where the port would be installed. For this, I used an 8 wire ribbon cable:

![](/assets/images/lava-rgb/IMG_0259.jpg)

In retrospect, I should have made this cable longer, as I was limited to where I could place the multiout. Anyway, I soldered the cable to the power module. Conveniently, the power module PCB offers two ways to connect wires to it, pads and vias, so I used the vias for this:

![](/assets/images/lava-rgb/IMG_0261.jpg)

![](/assets/images/lava-rgb/IMG_0262.jpg)

Note that two of the wires, the grey and the purple, are not soldered yet. One of these will be used for 5V, and the other for audio, both of which will be wired later to the PV and PA pins of the 5 pin connector.

I also soldered a wire to GND, and soldered it to the ground plane of the main board:

![](/assets/images/lava-rgb/IMG_0263.jpg)

![](/assets/images/lava-rgb/IMG_0267.jpg)

![](/assets/images/lava-rgb/IMG_0269.jpg)

At this point, I loosely positioned the PCBs to get a sense for where I was heading:

![](/assets/images/lava-rgb/IMG_0265.jpg)

Next, I soldered the power module to the five pins coming from the main board:

![](/assets/images/lava-rgb/IMG_0266.jpg)

![](/assets/images/lava-rgb/IMG_0272.jpg)

And now I could solder the 5V and audio wires to PV and PA respectively:

![](/assets/images/lava-rgb/IMG_0273.jpg)

![](/assets/images/lava-rgb/IMG_0274.jpg)

This is what everything looked like at this point:

![](/assets/images/lava-rgb/IMG_0275.jpg)

### Mod board

Next up was installing the mod board:

![](/assets/images/lava-rgb/IMG_0276.jpg)

As can be seen above, the kit includes two 20 square pin headers. Their official instructions expect you to solder the mod board PCB directly to the NES main board using these square pin headers, making sure to first solder the round pin socket onto the mod board itself so that the PPU can be inserted into it. The apparent advantage here is being able to swap out the PPU, but with the major disadvantage that the mod board cannot be removed from the main board, making it difficult to service the mod in the future. So instead of this, I did as is usually done with the NESRGB mod: solder the socket to the main board, and the PPU directly to the mod board. For this, I needed to either get a socket that works with the included square pin headers, or rounded pin headers - I chose the latter.

I soldered the socket to the main board, making sure to line up the notch:

![](/assets/images/lava-rgb/IMG_0277.jpg)

![](/assets/images/lava-rgb/IMG_0278.jpg)

![](/assets/images/lava-rgb/IMG_0279.jpg)

I inserted the two rounded pin headers I purchased separately into the sockets, longer pins down:

![](/assets/images/lava-rgb/IMG_0281.jpg)

![](/assets/images/lava-rgb/IMG_0282.jpg)

![](/assets/images/lava-rgb/IMG_0283.jpg)

Then laid the PCB over the pins, making sure to insert them into the right vias, and soldered them in place:

![](/assets/images/lava-rgb/IMG_0284.jpg)

![](/assets/images/lava-rgb/IMG_0286.jpg)

I carefully detached the mod board from the socket by rocking each edge back and forth. Some care has to be taken here as these rounded pins can bend and break very easily:

![](/assets/images/lava-rgb/IMG_0287.jpg)

Before soldering the PPU to the mod board, I use my flush cutters to cut down the one set of pins that would be underneath the PPU, and then touched them up with the soldering iron. Although not strictly necessary, this allows the PPU to lay flat on the PCB:

![](/assets/images/lava-rgb/IMG_0288.jpg)

![](/assets/images/lava-rgb/IMG_0289.jpg)

![](/assets/images/lava-rgb/IMG_0290.jpg)

I inserted the PPU onto the mod board, making sure to line up the notch, and soldered it in place:

![](/assets/images/lava-rgb/IMG_0292.jpg)

![](/assets/images/lava-rgb/IMG_0293.jpg)

![](/assets/images/lava-rgb/IMG_0294.jpg)

Next, I soldered the wire connector to the mod board:

![](/assets/images/lava-rgb/IMG_0295.jpg)

![](/assets/images/lava-rgb/IMG_0296.jpg)

![](/assets/images/lava-rgb/IMG_0297.jpg)

Now I carefully inserted the mod board back into the socket, making sure to line up the socket pins, while also routing the wires down and to the side, as there isn't much space between the connector and the expansion port (note that we're seeing the reflection of the wires on the edge of the expansion port):

![](/assets/images/lava-rgb/IMG_0301.jpg)

![](/assets/images/lava-rgb/IMG_0302.jpg)

### First test

At this point, I could finally test the mod out. I hadn't soldered the multiout yet, and I didn't have a way to hook up the Saturn-style DIN, so I couldn't test RGB, but I could test composite. So I loosely put everything together and composite video and audio worked perfectly:

![](/assets/images/lava-rgb/IMG_0303.jpg)

![](/assets/images/lava-rgb/IMG_0304.jpg)

![](/assets/images/lava-rgb/IMG_0306.jpg)

### Multiout

For the SNES multiout, I 3D printed Laser Bear's [Multiout Panel Mount Snap In Connector](https://www.laserbear.net/pages/downloads), and used PCBWay to print [The Real Pheonix's PCB](https://github.com/TRP-Retromods/SNES_AV_Connector?tab=readme-ov-file). I also needed to order the right #2 x 1/2" screw. Alternatively, one could order the parts directly from [Laser Bear](https://www.laserbear.net/products/nes-front-loader-snap-fit-multiout?variant=42703526494420) and [The Real Phoenix](https://trp-retromods.ca/index.php?route=product/product&path=59_64&product_id=70). Anyway, here are the parts:

![](/assets/images/lava-rgb/IMG_0187.jpg)

![](/assets/images/lava-rgb/IMG_0307.jpg)

![](/assets/images/lava-rgb/IMG_0314.jpg)

#### Solder ribbon to multiout PCB

I mapped out the pins I'd need to solder to, along with the specific color wires from my ribbon cable:

![](/assets/images/lava-rgb/IMG_0308.jpg)

I soldered the ribbon cable to the multiout PCB:

![](/assets/images/lava-rgb/IMG_0310.jpg)

![](/assets/images/lava-rgb/IMG_0311.jpg)

![](/assets/images/lava-rgb/IMG_0312.jpg)

![](/assets/images/lava-rgb/IMG_0313.jpg)

For testing, I inserted the PCB into the 3D printed frame and screwed it in:

![](/assets/images/lava-rgb/IMG_0316.jpg)

![](/assets/images/lava-rgb/IMG_0318.jpg)

#### Second test

Using an old cable I made, I gave it a quick test:

![](/assets/images/lava-rgb/IMG_0319.jpg)

![](/assets/images/lava-rgb/IMG_0320.jpg)

It worked! Although note that the colors aren't quite right. It turned out that my cable was defective - green wasn't being passed through. I later used a better cable, and all was fine.

#### Cut shell for multiout connector

Using the 3D printed bracket, I marked off where I would need to cut into the shell to fit the 3D printed connector:

![](/assets/images/lava-rgb/IMG_0323.jpg)

![](/assets/images/lava-rgb/IMG_0324.jpg)

![](/assets/images/lava-rgb/IMG_0326.jpg)

I made sure to position the hole as to not interfere with the posts. I actually wanted to position it more to the right, but as already mentioned, I had cut the ribbon cable too short, and didn't feel like redoing it.

Next came the most annoying part for me, since I still don't own a proper dremel: I used a drill, flush cutters, and filing tools to cut out the hole:

![](/assets/images/lava-rgb/IMG_0327.jpg)

![](/assets/images/lava-rgb/IMG_0328.jpg)

![](/assets/images/lava-rgb/IMG_0329.jpg)

![](/assets/images/lava-rgb/IMG_0330.jpg)

![](/assets/images/lava-rgb/IMG_0331.jpg)

![](/assets/images/lava-rgb/IMG_0332.jpg)

![](/assets/images/lava-rgb/IMG_0333.jpg)

Finally, after way too long, the connector fit in perfectly:

![](/assets/images/lava-rgb/IMG_0334.jpg)

![](/assets/images/lava-rgb/IMG_0335.jpg)

![](/assets/images/lava-rgb/IMG_0336.jpg)

I used the 3D printed clip to hold the connector in place:

![](/assets/images/lava-rgb/IMG_0337.jpg)

![](/assets/images/lava-rgb/IMG_0338.jpg)

The fit was a little snug considering that raised portion inside, but thankfully it was fine:

![](/assets/images/lava-rgb/IMG_0339.jpg)

### Expansion audio

Before closing everything up, I also wanted to enable expansion audio. I decided to use [Voultar's PCB](https://oshpark.com/shared_projects/ROD6ciPv) because this is what I had done for my NESRGB install. What I didn't realize at the time was that this wasn't necessary at all since the Lava RGB doesn't process audio like the NESRGB. I'll show my misteps here, and how I corrected it, but this could definitely have been simpler!

I soldered a 1K and 47K resistor to the PCB:

![](/assets/images/lava-rgb/IMG_0355.jpg)

![](/assets/images/lava-rgb/IMG_0360.jpg)

I positioned the PCB on pins 2 and 9 on the expansion port pins and soldered the PCB in place:

![](/assets/images/lava-rgb/IMG_0361.jpg)

![](/assets/images/lava-rgb/IMG_0362.jpg)

It was at this point that I tested expansion audio and realized it wasn't working. After chatting with Toxic_Tripod0 on Discord, I realized my mistake. To enable expansion audio without NESRGB, all that's needed is a 47K resistor between pins 3 and 9. This PCB is expressly designed to route expansion audio to the NESRGB for processing. At this point, I could have removed the PCB, but I realized I could fix this relatively easily by removing the 1K resistor, and soldering a wire from the exposed pad to pin 3:

![](/assets/images/lava-rgb/IMG_0366.jpg)

![](/assets/images/lava-rgb/IMG_0369.jpg)

As required, pins 3 and 9 were now connected via a 47K resistor:

![](/assets/images/lava-rgb/IMG_0371.jpg)

I tested expansion audio, and it worked! If I were to redo this, I'd probably just connect a 47K throughole resistor between pins 3 and 9 instead.

### Closing everything up

It was finally time to put everything back together:

![](/assets/images/lava-rgb/IMG_0342.jpg)

I attached the power and controller cables to the main board:

![](/assets/images/lava-rgb/IMG_0343.jpg)

I inserted the multiout PCB into the connector and screwed it in:

![](/assets/images/lava-rgb/IMG_0345.jpg)

![](/assets/images/lava-rgb/IMG_0349.jpg)

I reattached the cartridge slot to the main board, and carefully inserted the main board into the bottom shell. The new power module is only held by those 5 pins to the main board, so some care has to be taken when fitting it in place:

![](/assets/images/lava-rgb/IMG_0350.jpg)

I decided not to put in the RF shielding as it's not really necessary, and would pinch and possibly short the reset and controller 1 wires used for IGR and palette switching. I put in all the screws, including the ones in the posts used for the RF shielding:

![](/assets/images/lava-rgb/IMG_0384.jpg)

I screwed on the top shell, and was finally done! Here it is in all its glory:

![](/assets/images/lava-rgb/IMG_0386.jpg)

![](/assets/images/lava-rgb/IMG_0387.jpg)

![](/assets/images/lava-rgb/IMG_0388.jpg)

![](/assets/images/lava-rgb/IMG_0389.jpg)

### Final test

With everything back together, I hooked it up using my [SNES2VGA]({%- post_url 2024-02-05-snes2vga -%}) with a VGA cable to my gbs-control:

![](/assets/images/lava-rgb/IMG_0390.jpg)

![](/assets/images/lava-rgb/IMG_0391.jpg)

Looking good in RGB:

![](/assets/images/lava-rgb/IMG_0392.jpg)

Interestingly, the colors don't exactly match the composite output:

![](/assets/images/lava-rgb/IMG_0393.jpg)

Using the palette switching control (hold select + Up on dpad), I cycled through the palettes, which displays the name of the palette for a few seconds. Here are some samples:

![](/assets/images/lava-rgb/IMG_0394.jpg)

![](/assets/images/lava-rgb/IMG_0395.jpg)

![](/assets/images/lava-rgb/IMG_0396.jpg)


## Thoughts

I've been playing with this modded NES for a few days now, and it works and looks great. The Lava RGB 2.0 is definitely a worthy contender to the NESRGB, especially for the price. Although it doesn't process audio, tapping the NES-produced audio out from the new power module works fine, and the sound is very clean.

It's worth noting that this mod doesn't require the new power module at all, especially in my case as I added the SNES-style multiout. However, for those who don't want the multiout, and want a no-cut mod, this is a nice way to do it. In my case, the power module made it easier to wire up the multiout, and possibly improved the audio output as the older power modules are known to add interference to the audio signal.

I just wanted to give a quick shout out to the folks on the [ConsoleMods](https://consolemods.org/wiki/Main_Page) discord, especially Toxic_Tripod0, manadream, and RobStrange for their help.
